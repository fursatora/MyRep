{% extends "base_generic.html" %}
{% block content%}
            <div class="col-md-8 col-lg-9 content-container" style="background-color: #ccdbf6">
                <h1 class="h3 text-center mt-3">Ученики</h1>
                <h2 class="lead text-center"></h2>
                <hr class="mb-5">
                 <section style="background-color: rgb(196, 211, 237); padding: 20px;">
                     <div style="display: flex; justify-content: space-between; align-items: center;">
                        <h3 class="lesson-month" style="color: #333; font-size: 1.5em; margin-bottom: 10px; padding: 10px; background-color: rgba(160, 184, 239, 0.94); border-top-left-radius: 5px; border-top-right-radius: 5px;">Список учеников</h3>
                        <a class="btn btn-success" href="{% url 'student_new' %}" class="btn top-menu"><span class="glyphicon glyphicon-plus"></span> Добавить ученика</a>
                    </div>
                    {% for grade, students in sorted_students %}
                    <div class="lesson-group mt-4" style="margin-bottom: 20px; background-color: rgba(195, 212, 245, 0.94); border-radius: 5px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
                        <h3 class="lesson-month" style="color: #333; font-size: 1.5em; margin-bottom: 10px; padding: 10px; background-color: rgba(160,184,239,0.94); border-top-left-radius: 5px; border-top-right-radius: 5px;">Класс {{ grade }}</h3>
                        <div class="table-responsive" style="width: 100%;">
                            <table class="table table-striped table-bordered lesson-table" style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr style="background-color: rgba(158,180,243,0.68);">
                                        <tr style="background-color: rgba(158, 180, 243, 0.68);">
                                        <th>Имя</th>
                                        <th>Фамилия</th>
                                        <th>Класс</th>
                                        <th>Дисциплины</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% for student in students %}
                                <tr class="table-row" style="cursor: pointer;" onclick="window.location='{% url 'student_detail' pk=student.pk %}';" onmouseover="this.style.backgroundColor='rgba(74, 78, 137, 0.28)';" onmouseout="this.style.backgroundColor='';">
                                    <td>{{ student.firstname }}</td>
                                    <td>{{ student.lastname }}</td>
                                    <td>{{ student.grade }}</td>
                                    <td>{{ student.get_subjects }}</td>
                                </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    {% endfor %}
               </section>
            </div>
{% endblock content %}